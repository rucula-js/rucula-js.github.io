

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Exemplo Rucula</title>
        <style>
            body{
                margin: 0;
            }
            *{
                font-family: "DM Sans", sans-serif;
            }
        </style>
    </head>
    <body>
        <div id="js">
        </div>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rucula-js/rucula-js@master/dist/style/style.css"/>

        <script type="module" >
            
            import {Rucula} from 'https://cdn.jsdelivr.net/gh/rucula-js/rucula-js@master/dist/rucula.js'
            
            let config = {
                floatLabel:true, 
                environments:[
                    {
                        env:"development",
                        hostname:"http://localhost",
                        port: "5016"
                    }
                ],
                localizations:[
                    {
                        locales:"pt-BR",
                        language:"üáßüá∑ Brasil" ,
                        currency:"BRL",
                        maxDecimal:5
                    }
                ] 
            }   

            let input  = {
                name: "Ol√° Mundo",
                pathController: "/OlaMundo",
                type: "crud",
                crud:"crud",
                messageHome: "Ola Mundo",
                iconHome: "bi-rocket-takeoff",
                grid:false,
                frames: [
                    {
                        name: "Ola Mundo!",
                        objectDto: "olaMundo",
                        alias: "aliasOlaMundo",
                        fields: [
                            {
                                propertDto: "codigo",
                                description: "C√≥digo",
                                maxLength: 40,
                                requerid:true,
                                width:350
                            },
                            {
                                propertDto: "nome",
                                description: "Nome",
                            }
                        ]
                    }
                ],
                layout:{
                    items:
                    [
                        ["aliasOlaMundo"]
                    ]
                },
                button: [
                    {
                        type: "button",
                        target: "r-a-save",
                        body:"."
                    },
                    {
                        type: "button",
                        target: "r-a-alter",
                        body:"."
                    },
                    {
                        type: "button",
                        target: "r-a-delete",
                        body:"."
                    }
                ]}

            var form = document.getElementById("js")

            let rucula = new Rucula(config,input,"js");
            
            form?.addEventListener('r-a-save.click',(e) => {

            rucula.popup.messsage.info({
                text:"Registrando...", 
                timeout:500, 
                disableadFooter:true
            },
            () => rucula.popup.messsage.sucess({
                    text:"Informa√ß√µes Registradas", 
                    timeout:1000, 
                    disableadFooter:true
                })

            );
            })

            form?.addEventListener('r-a-alter.click',(e) => {

            rucula.popup.messsage.sucess({text:"Informa√ß√µes Alteradas"})
            })

            form?.addEventListener('r-a-delete.click',(e) => {

            rucula.popup.messsage.warning({text:"O registro ser√° excluido permamentemente, deseja continuar?"},resultOption)
            })

            function resultOption(yesNo){

                if(yesNo){
                    rucula.popup.messsage.info({
                            text:"excluindo...", 
                            timeout:500, 
                            disableadFooter:true,
                            disableadHeader:true
                    },sucess);
                    return
                }
            }

            function sucess(){
            rucula.popup.messsage.sucess({text:"Item Excluido",timeout:2000})   
            }

        </script>
    </body>
</html>